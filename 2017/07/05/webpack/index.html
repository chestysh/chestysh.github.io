<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="技术博客"><meta name="keywords" content="php, js, object-c, swift, android, java"><title>webpack - chesty</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/default_images/ysh.jpg"></head><body><div class="post-header"><img class="background" src="/default_images/post_background.jpg"><div class="post-title"><h1 class="title">webpack</h1><ul class="meta"><li><i class="icon icon-author"></i>chesty</li><li><i class="icon icon-clock"></i>13 Minutes</li><li><i class="icon icon-calendar"></i>2017年7月5日</li></ul></div></div><div class="article-content" style="max-width:600px"><a id="more"></a>
<h3 id="script-标签"><a href="#script-标签" class="headerlink" title="script 标签"></a>script 标签</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"module1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"module2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"libraryA.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"module3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这是最原始的 JavaScript 文件加载方式，如果把每一个文件看做是一个模块，那么他们的接口通常是暴露在全局作用域下，也就是定义在 window 对象中，不同模块的接口调用都是一个作用域中，一些复杂的框架，会使用命名空间的概念来组织这些模块的接口</p>
<p>这种原始的加载方式暴露了一些显而易见的弊端：</p>
<ul>
<li>全局作用域下容易造成变量冲突</li>
<li>文件只能按照 script 的书写顺序进行加载</li>
<li>开发人员必须主观解决模块和代码库的依赖关系</li>
<li>在大型项目中各种资源难以管理，长期积累的问题导致代码库混乱不堪</li>
</ul>
<h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><blockquote>
<p>这种加载方式跟微信小程序应该是一样。</p>
</blockquote>
<p>服务器端的 Node.js 遵循 <a href="http://wiki.commonjs.org/wiki/CommonJS" target="_blank" rel="external">CommonJS</a>规范，该规范的核心思想是允许模块通过 require 方法来同步加载所要依赖的其他模块，然后通过 exports 或 module.exports 来导出需要暴露的接口。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">"module"</span>);</div><div class="line"><span class="built_in">require</span>(<span class="string">"../file.js"</span>);</div><div class="line">exports.doStuff = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</div><div class="line"><span class="built_in">module</span>.exports = someValue;</div></pre></td></tr></table></figure></p>
<p>优点：</p>
<ul>
<li>服务器端模块便于重用</li>
<li><a href="https://www.npmjs.com/" target="_blank" rel="external">NPM</a> 中已经有将近20万个可以使用模块包</li>
<li>简单并容易使用</li>
</ul>
<p>缺点：</p>
<ul>
<li>同步的模块加载方式不适合在浏览器环境中，同步意味着阻塞加载，浏览器资源是异步加载的</li>
<li>不能非阻塞的并行加载多个模块</li>
</ul>
<h3 id="ES6-模块"><a href="#ES6-模块" class="headerlink" title="ES6 模块"></a>ES6 模块</h3><blockquote>
<p>这种模块的加载方式没有尝试过</p>
</blockquote>
<p>ECMAScript6 标准增加了 JavaScript 语言层面的模块体系定义。ES6 模块的设计思想，是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"jquery"</span>;</div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="built_in">module</span> <span class="string">"localModule"</span> &#123;&#125;</div></pre></td></tr></table></figure>
<p>优点：</p>
<ul>
<li>容易进行静态分析</li>
<li>面向未来的 ECMAScript 标准</li>
</ul>
<p>缺点:</p>
<ul>
<li>原生浏览器端还没有实现该标准</li>
<li>全新的命令字，新版的 Node.js才支持</li>
</ul>
<h3 id="Webpack-的特点"><a href="#Webpack-的特点" class="headerlink" title="Webpack 的特点"></a>Webpack 的特点</h3><blockquote>
<p>针对webpack以下所说的特点，有一些目前我还是无法理解，需要更加深入的学习</p>
<h4 id="代码拆分"><a href="#代码拆分" class="headerlink" title="代码拆分"></a>代码拆分</h4><p>Webpack 有两种组织模块依赖的方式，同步和异步。异步依赖作为分割点，形成一个新的块。在优化了依赖树后，每一个异步区块都作为一个文件被打包。</p>
</blockquote>
<h4 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h4><p>Webpack 本身只能处理原生的 JavaScript 模块，但是 loader 转换器可以将各种类型的资源转换成 JavaScript 模块。这样，任何资源都可以成为 Webpack 可以处理的模块。</p>
<h4 id="智能解析"><a href="#智能解析" class="headerlink" title="智能解析"></a>智能解析</h4><p>Webpack 有一个智能解析器，几乎可以处理任何第三方库，无论它们的模块形式是 CommonJS、 AMD 还是普通的 JS 文件。甚至在加载依赖的时候，允许使用动态表达式 <code>equire(&quot;./templates/&quot; + name + &quot;.jade&quot;)</code></p>
<h4 id="插件系统"><a href="#插件系统" class="headerlink" title="插件系统"></a>插件系统</h4><p>Webpack 还有一个功能丰富的插件系统。大多数内容功能都是基于这个插件系统运行的，还可以开发和使用开源的 Webpack 插件，来满足各式各样的需求。</p>
<h4 id="快速运行"><a href="#快速运行" class="headerlink" title="快速运行"></a>快速运行</h4><p>Webpack 使用异步 I/O 和多级缓存提高运行效率，这使得 Webpack 能够以令人难以置信的速度快速增量编译。</p>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><blockquote>
<p>这个是github上的一个开源项目代码目录，也是我主要学习的代码,网络请求呢主要使用axios</p>
</blockquote>
<p><a href="https://github.com/PanJiaChen/vue-element-admin/wiki" target="_blank" rel="external">项目地址</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">├── build                      // 构建相关</div><div class="line">├── config                     // 配置相关</div><div class="line">├── src                        // 源代码</div><div class="line">│   ├── api                    // 所有请求</div><div class="line">│   ├── assets                 // 主题 字体等静态资源</div><div class="line">│   ├── components             // 全局公用组件</div><div class="line">│   ├── directive              // 全局指令</div><div class="line">│   ├── filtres                // 全局filter</div><div class="line">│   ├── mock                   // mock数据</div><div class="line">│   ├── router                 // 路由</div><div class="line">│   ├── store                  // 全局store管理</div><div class="line">│   ├── styles                 // 全局样式</div><div class="line">│   ├── utils                  // 全局公用方法</div><div class="line">│   ├── view                   // view</div><div class="line">│   ├── App.vue                // 入口页面</div><div class="line">│   └── main.js                // 入口 加载组件 初始化等</div><div class="line">├── static                     // 第三方不打包资源</div><div class="line">│   ├── jquery</div><div class="line">│   └── Tinymce                // 富文本</div><div class="line">├── .babelrc                   // babel-loader 配置</div><div class="line">├── eslintrc.js                // eslint 配置项</div><div class="line">├── .gitignore                 // git 忽略项</div><div class="line">├── favicon.ico                // favicon图标</div><div class="line">├── index.html                 // html模板</div><div class="line">└── package.json               // package.json</div></pre></td></tr></table></figure></p>
<h2 id="目录结构介绍"><a href="#目录结构介绍" class="headerlink" title="目录结构介绍"></a>目录结构介绍</h2><p><a href="https://github.com/lin-xin/manage-system.git" target="_blank" rel="external">项目地址</a><br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">|<span class="string">-- build                            // webpack配置文件</span></div><div class="line">|<span class="string">-- config                           // 项目打包路径</span></div><div class="line">|<span class="string">-- src                              // 源码目录</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- components                   // 组件</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- common                   // 公共组件</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Header.vue           // 公共头部</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Home.vue           	 // 公共路由入口</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Sidebar.vue          // 公共左边栏</span></div><div class="line">|<span class="string">		</span>|<span class="string">-- page                   	 // 主要路由页面</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- BaseCharts.vue       // 基础图表</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- BaseForm.vue         // 基础表单</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- BaseTable.vue        // 基础表格</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Login.vue          	 // 登录</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Markdown.vue         // markdown组件</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- MixCharts.vue        // 混合图表</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Readme.vue           // 自述组件</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- Upload.vue           // 图片上传</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- VueEditor.vue        // 富文本编辑器</span></div><div class="line">|<span class="string">           </span>|<span class="string">-- VueTable.vue         // vue表格组件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- App.vue                      // 页面入口文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- main.js                      // 程序入口文件，加载各种公共组件</span></div><div class="line">|<span class="string">-- .babelrc                         // ES6语法编译配置</span></div><div class="line">|<span class="string">-- .editorconfig                    // 代码编写规格</span></div><div class="line">|<span class="string">-- .gitignore                       // 忽略的文件</span></div><div class="line">|<span class="string">-- index.html                       // 入口html文件</span></div><div class="line">|<span class="string">-- package.json                     // 项目及工具的依赖配置文件</span></div><div class="line">|<span class="string">-- README.md                        // 说明</span></div></pre></td></tr></table></figure></p>
</div><div class="article-meta" style="max-width:600px"></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2017/05/11/CAGradientLayer/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="http://github.com/chestysh" title="GitHub" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/2426921903/profile?topnav=1&amp;wvr=6&amp;is_all=1" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li><li><a href="https://www.facebook.com/profile.php?id=100009526330799&amp;ref=bookmarks" title="Facebook" target="_blank"><i class="icon icon-facebook"></i></a></li><li><a href="http://github.com/chestysh" title="Wechat" target="_blank"><i class="icon icon-wechat"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2017 chesty</p></div></div></body></html>